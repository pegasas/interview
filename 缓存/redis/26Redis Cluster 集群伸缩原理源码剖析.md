
# Redis源码剖析和注释（二十六）--- Redis 集群伸缩原理源码剖析
# Redis Cluster 集群伸缩原理源码剖析

## 1. Redis 集群伸缩教程

`Redis`提供了灵活的节点扩容和收缩方案。在不影响集群对外服务的情况下，可以为集群添加节点进行扩容也可以对下线节点进行缩容。

如何进行`Redis Cluster`的伸缩，请参考  [Redis Cluster 集群扩容与收缩](http://blog.csdn.net/men_wen/article/details/72896682)  本篇教程。本文详细分别使用手动命令和`redis-trib.rb`工具来执行`Redis`集群的扩容和收缩操作。

本篇文章根据`Redis`源码深入剖析集群伸缩的原理。[Redis Cluster文件详细注释](https://github.com/menwengit/redis_source_annotation/blob/master/cluster.c)

## 2. 集群扩容原理剖析

集群扩容的步骤如下：

-   准备新节点
-   加入集群
-   迁移槽和数据

我们根据步骤一步一步分析。

### 2.1 准备新节点

本步骤就是准备新的节点和配置启动文件。具体参考  [Redis Cluster 载入配置文件、节点握手、分配槽源码剖析](http://blog.csdn.net/men_wen/article/details/72871618)  一文的载入配置一部分，该部分从`Redis`服务器的`main`函数开始分析，一直到服务器启动成功。

### 2.2 加入集群

将新节点加入集群，就是发送`CLUSTER MEET`命令，将准备的新节点加入到已搭建好的集群，让所有的集群中的节点“认识”新的节点。

可以参考  [Redis Cluster 载入配置文件、节点握手、分配槽源码剖析](http://blog.csdn.net/men_wen/article/details/72871618)  一文中的节点握手部分，该部分根据源码分析了节点握手的三过程：发送`MEET`消息，回复`PONG`消息，发送`PING`消息，最后讲解了`Gossip`协议在`Redis`中是如何使用的。

### 2.3 迁移槽和数据

集群扩容的前两步和搭建集群很像，最后一步则是将集群节点中的槽和数据迁移到新的节点中，而不是为新的节点分配槽位。因此我们重点分析这一过程。[Redis Cluster文件详细注释](https://github.com/menwengit/redis_source_annotation/blob/master/cluster.c)

将**源节点的槽位和数据迁移到目标节点**中，迁移单个槽步骤如下：

1.  对目标节点发送`CLUSTER SETSLOT <slot> importing <source_name>`，在目标节点中将`<slot>`设置为**导入状态（importing）**。
2.  对源节点发送`CLUSTER SETSLOT <slot> migrating <target_name>`，在源节点中将`<slot>`设置为**导出状态（migrating）**。
3.  对源节点发送`CLUSTER GETKEYSINSLOT <slot> <count>`命令，获取`<count>`个属于`<slot>`的键，这些键要发送给目标节点。
4.  对于第三步获得的每个键，发送`MIGRATE host port "" dbid timeout [COPY | REPLACE] KEYS key1 key2 ... keyN`命令，将选中的键从源节点迁移到目标节点。  
    -   在`Redis 3.0.7`以后的版本支持了`MIGRATE`命令的批量迁移操作。
    -   如果不支持批量迁移，那么会发送`MIGRATE host port key dbid timeout [COPY | REPLACE]`命令将一个键从源节点迁移到目标节点。
    -   当一次无法迁移完成时，会循环执行第三步和第四步，直到`<count>`个键全部迁移完成。
5.  向集群中的任意节点发送`CLUSTER SETSLOT <slot> node <target_name>`，将`<slot>`指派给目标节点。指派信息会通过消息发送到整个集群中，然后最终所有的节点都会知道`<slot>`已经指派给了目标节点。

我们就根据这些步骤逐步分析：

#### 2.3.1 目标节点中，将槽设置为导入状态

[Redis Cluster文件详细注释](https://github.com/menwengit/redis_source_annotation/blob/master/cluster.c)

客户端连接上目标节点，并发送该命令给目标节点服务器，目标节点会调用`clusterCommand()`函数来执行该命令，该函数是一个通用函数，能用于执行`CLUSTER`开头的所有命令。该函数会判断`SETSLOT`选项，但是`SETSLOT`选项对应4种不同的函数分别是：
```
SETSLOT 10 MIGRATING <node ID>          /* 设置10号槽处于MIGRATING状态，迁移到<node ID>指定的节点 */
SETSLOT 10 IMPORTING <node ID>          /* 设置10号槽处于IMPORTING状态，将<node ID>指定的节点的槽导入到myself中 */
SETSLOT 10 STABLE                       /* 取消10号槽的MIGRATING/IMPORTING状态 */
SETSLOT 10 NODE < node ID>              /* 将10号槽绑定到NODE节点上 */
```
在`SETSLOT`选项中先会判断`myself`节点是否为主节点，如果是从节点则直接返回，然后获取指定的槽号。
```
int		slot;
clusterNode	*n;

/* 如果myself节点是从节点，回复错误信息 */
if ( nodeIsSlave( myself ) )
{
	addReplyError( c, "Please use SETSLOT only with masters." );
	return;
}
/* 获取槽号 */
if ( (slot = getSlotOrReply( c, c->argv[2] ) ) == -1 )
	return;
```
本小节主要看`CLUSTER SETSLOT <slot> importing <source_name>`命令，在目标节点中，将槽设置为导入状态，处理`importing`状态的代码如下：
```
if ( !strcasecmp( c->argv[3]->ptr, "importing" ) && c->argc == 5 )
{
	/* 如果该槽已经是myself节点负责，那么不进行导入 */
	if ( server.cluster->slots[slot] == myself )
	{
		addReplyErrorFormat( c, "I'm already the owner of hash slot %u", slot );
		return;
	}
	/* 获取导入的目标节点 */
	if ( (n = clusterLookupNode( c->argv[4]->ptr ) ) == NULL )
	{
		addReplyErrorFormat( c, "I don't know about node %s", (char *) c->argv[3]->ptr );
		return;
	}
	/* 为该槽设置导入目标 */
	server.cluster->importing_slots_from[slot] = n;
	/* 更新集群状态和保存配置 */
	clusterDoBeforeSleep( CLUSTER_TODO_SAVE_CONFIG | CLUSTER_TODO_UPDATE_STATE );
	addReply( c, shared.ok );
```
先判断该槽位是否已经是目标节点所负责的，如果是则不需要进行导入，否则继续调用`clusterLookupNode()`函数，根据`<source_name>`在当前集群中查找源节点，然后将服务器集群状态的`importing_slots_from`对应的槽和导入的源节点做映射。当前执行该命令的节点是目标节点，因此在目标节点视角中的集群，该槽已经处于导入状态。

如果执行成功，则在进入下个周期之前更新集群状态和保存配置。

最后返回客户端一个`OK`。

#### 2.3.2 源节点中，将槽设置为导出状态

[Redis Cluster文件详细注释](https://github.com/menwengit/redis_source_annotation/blob/master/cluster.c)

对源节点发送`CLUSTER SETSLOT <slot> migrating <target_name>`，将槽设置为导出状态，对应的代码如下：
```
if ( !strcasecmp( c->argv[3]->ptr, "migrating" ) && c->argc == 5 )
{
	/* 如果该槽不是myself主节点负责，那么就不能进行迁移 */
	if ( server.cluster->slots[slot] != myself )
	{
		addReplyErrorFormat( c, "I'm not the owner of hash slot %u", slot );
		return;
	}
	/* 获取迁移的目标节点 */
	if ( (n = clusterLookupNode( c->argv[4]->ptr ) ) == NULL )
	{
		addReplyErrorFormat( c, "I don't know about node %s", (char *) c->argv[4]->ptr );
		return;
	}
	/* 为该槽设置迁移的目标 */
	server.cluster->migrating_slots_to[slot] = n;
	/* 更新集群状态和保存配置 */
	clusterDoBeforeSleep( CLUSTER_TODO_SAVE_CONFIG | CLUSTER_TODO_UPDATE_STATE );
	addReply( c, shared.ok );
```
在源节点视角的集群中，执行该命令。先会对该槽位的所有权进行判断，如果不属于源节点，那么就无权进行迁移。然后获取要迁移到的目标节点，调用`clusterLookupNode()`函数查找目标节点。最后将服务器集群状态中的`migrating_slots_to`对应的槽和导出的目标节点做映射关系。

如果执行成功，则在进入下个周期之前更新集群状态和保存配置。

最后返回客户端一个`OK`。

#### 2.3.3 获取迁移槽中的键

[Redis Cluster文件详细注释](https://github.com/menwengit/redis_source_annotation/blob/master/cluster.c)

这一步要获取迁移槽中的所有键，这些键是要从源节点发送到目标节点。因此对应的选项是`getkeysinslot`，代码如下：
```
if ( !strcasecmp( c->argv[1]->ptr, "getkeysinslot" ) && c->argc == 4 )
{
	/* CLUSTER GETKEYSINSLOT <slot> <count> */
	long long	maxkeys, slot;
	unsigned int	numkeys, j;
	robj		**keys;
	/* 获取槽号 */
	if ( getLongLongFromObjectOrReply( c, c->argv[2], &slot, NULL ) != C_OK )
		return;
	/* 获取打印键的个数 */
	if ( getLongLongFromObjectOrReply( c, c->argv[3], &maxkeys, NULL )
	     != C_OK )
		return;
	/* 判断槽号和个数是否非法 */
	if ( slot < 0 || slot >= CLUSTER_SLOTS || maxkeys < 0 )
	{
		addReplyError( c, "Invalid slot or number of keys" );
		return;
	}
	/* 分配保存键的空间 */
	keys = zmalloc( sizeof(robj*) * maxkeys );
	/* 将count个键保存到数组中 */
	numkeys = getKeysInSlot( slot, keys, maxkeys );
	/* 添加回复键的个数 */
	addReplyMultiBulkLen( c, numkeys );
	/* 添加回复每一个键 */
	for ( j = 0; j < numkeys; j++ )
		addReplyBulk( c, keys[j] );
	zfree( keys );
}
```
该函数会先根据传入的参数，获取到对应的槽号`slot`和要打印槽中键的个数`maxkey`。然后判断指定的槽号和键的个数是否合法。

然后会为回复创建一个数组，将这些键保存到该数组中。

接下来会调用`getKeysInSlot()`函数，最多获取`maxkey`个键。

最后就是回复客户端，先回复获取键的个数，然后回复每个获取的键。

`Redis`集群中的数据库，不仅在键值对字典中保存了当前键值对，还会在`zskiplist *slots_to_keys`中保存槽和键之间的关系。

当执行一个写数据库的命令时，就会调用`dbAdd()`函数将键加入到键值对字典中，而该函数会判断是否当前运行在集群模式下，如果运行在集群模式下则会调用`slotToKeyAdd()`函数将槽作为分值将键作为成员，添加到`slots_to_keys`跳跃表中。而刚才调用的`getKeysInSlot()`函数则是遍历这个跳跃表，最多返回`<count>`个槽中的键。

假设我们有这么几个键，他在跳跃表中的样子如下图所示：
![avatar](data:image/jpeg;base64,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)
-   槽`6666`有一个键，键的名字是`key:number`。
-   槽`6918`有三个键，键的名字是`key:{test}:555`、`key:{test}:666`、和`key:{test}:777`。

当我们通过`CLUSTER GETKEYSINSLOT <slot> <count>`命令获取到`<slot>`中的键时，下一步就可以进行迁移了。

#### 2.3.4 迁移槽中的键

`MIGRATE`命令的完整形式如下：
```
MIGRATE host port "" dbid timeout [COPY | REPLACE] KEYS key1 key2 ... keyN
MIGRATE host port key dbid timeout [COPY | REPLACE]
```
在`Redis 3.0.7`之后支持了第一个批量迁移的版本。[Redis Cluster文件详细注释](https://github.com/menwengit/redis_source_annotation/blob/master/cluster.c)

我们将`MIGRATE`的执行过程分为**五个部分**详细解释。

-   **解析参数和判断参数合法性**
```
void migrateCommand( client *c )
{
	migrateCachedSocket	*cs;
	int			copy, replace, j;
	long			timeout;
	long			dbid;
	robj			**ov		= NULL; /* Objects to migrate. */
	robj			**kv		= NULL; /* Key names. */
	robj			**newargv	= NULL; /* Used to rewrite the command as DEL ... keys ... */
	rio			cmd, payload;
	int			may_retry	= 1;
	int			write_error	= 0;
	int			argv_rewritten	= 0;

	int	first_key	= 3;                    /* Argument index of the first key. */
	int	num_keys	= 1;                    /* By default only migrate the 'key' argument. */

	copy	= 0;
	replace = 0;

	/* 解析附加项 */
	for ( j = 6; j < c->argc; j++ )
	{
		/* copy项：不删除源节点上的key */
		if ( !strcasecmp( c->argv[j]->ptr, "copy" ) )
		{
			copy = 1;
			/* replace项：替换目标节点上已存在的key */
		} else if ( !strcasecmp( c->argv[j]->ptr, "replace" ) )
		{
			replace = 1;
			/* keys项：指定多个迁移的键 */
		} else if ( !strcasecmp( c->argv[j]->ptr, "keys" ) )
		{
			/* 第三个参数必须是空字符串"" */
			if ( sdslen( c->argv[3]->ptr ) != 0 )
			{
				addReplyError( c,
					       "When using MIGRATE KEYS option, the key argument"
					       " must be set to the empty string" );
				return;
			}
			/* 指定要迁移的键，第一个键的下标 */
			first_key = j + 1;
			/* 键的个数 */
			num_keys = c->argc - j - 1;
			break; /* All the remaining args are keys. */
		} else {
			addReply( c, shared.syntaxerr );
			return;
		}
	}

	/* 参数有效性检查 */
	if ( getLongFromObjectOrReply( c, c->argv[5], &timeout, NULL ) != C_OK ||
	     getLongFromObjectOrReply( c, c->argv[4], &dbid, NULL ) != C_OK )
	{
		return;
	}
	if ( timeout <= 0 )
		timeout = 1000;

	/* 检查key是否存在，至少有一个key要迁移，否则如果所有的key都不存在，回复一个"NOKEY"通知调用者，没有要迁移的键 */
	ov	= zrealloc( ov, sizeof(robj*) * num_keys );
	kv	= zrealloc( kv, sizeof(robj*) * num_keys );
	int oi = 0;
	/* 遍历所有指定的键 */
	for ( j = 0; j < num_keys; j++ )
	{
		/* 以读操作取出key的值对象，保存在ov中 */
		if ( (ov[oi] = lookupKeyRead( c->db, c->argv[first_key + j] ) ) != NULL )
		{
			/* 将存在的key保存到kv中 */
			kv[oi] = c->argv[first_key + j];
			/* 计数存在的键的个数 */
			oi++;
		}
	}
	num_keys = oi;
	/* 没有键存在，迁移失败，返回"+NOKEY" */
	if ( num_keys == 0 )
	{
		zfree( ov ); zfree( kv );
		addReplySds( c, sdsnew( "+NOKEY\r\n" ) );
		return;
	}
	... ... ... ... ... ...
```
该部分主要根据函数附加的选项，

1.  如果指定了`copy`，则表示不删除源节点上的key，并且设置`copy = 1`标识。
2.  如果指定了`replace`，则表示替换目标节点上已存在的key，并且设置`replace = 1`标识。
3.  如果指定了`keys`，则表示批量迁移，那么需要判断第四个参数是否是空字符串（”“），如果不是则直接返回。如果命令语法正确，则需要更新第一个指定键在参数列表中的下标`first_key = j+1`，和指定了键的个数`num_keys = c->argc - j - 1`。

解析完成后，则会判断参数的合法性，如果所有参数都合法，那么会将键值对分别保存到`ov`和`kv`数组中。如果所有指定的键都不在当前节点中，那么会回复客户端一个`+NOKEY`错误。

然后这些就是迁移键的准备工作，接下来就要进行迁移键。

-   **发送迁移数据**
```
try_again :
write_error = 0;

/* 返回一个包含连接目标实例的TCP套接字的migrateCachedSocket结构，有可能返回一个缓存套接字 */
cs = migrateGetSocket( c, c->argv[1], c->argv[2], timeout );
if ( cs == NULL )
{
	zfree( ov ); zfree( kv );
	return;                         /* error sent to the client by migrateGetSocket() */
}
/* 初始化缓冲区对象cmd，用来构建SELECT命令 */
rioInitWithBuffer( &cmd, sdsempty() );

/* 创建一个SELECT命令，如果上一次要还原到的数据库ID和这次的不相同 */
int select = cs->last_dbid != dbid;     /* Should we emit SELECT? */
/* 则需要创建一个SELECT命令 */
if ( select )
{
	serverAssertWithInfo( c, NULL, rioWriteBulkCount( &cmd, '*', 2 ) );
	serverAssertWithInfo( c, NULL, rioWriteBulkString( &cmd, "SELECT", 6 ) );
	serverAssertWithInfo( c, NULL, rioWriteBulkLongLong( &cmd, dbid ) );
}

/* 将所有的键值对进行加工 */
for ( j = 0; j < num_keys; j++ )
{
	long long ttl = 0;
	/* 获取当前key的过期时间 */
	long long expireat = getExpire( c->db, kv[j] );

	if ( expireat != -1 )
	{
		/* 计算key的生存时间 */
		ttl = expireat - mstime();
		if ( ttl < 1 )
			ttl = 1;
	}
	/*
	 * 以"*<count>\r\n"格式为写如一个int整型的count
	 * 如果指定了replace，则count值为5，否则为4
	 * 写回复的个数
	 */
	serverAssertWithInfo( c, NULL, rioWriteBulkCount( &cmd, '*', replace ? 5 : 4 ) );
	/* 如果运行在进群模式下，写回复一个"RESTORE-ASKING" */
	if ( server.cluster_enabled )
		serverAssertWithInfo( c, NULL, rioWriteBulkString( &cmd, "RESTORE-ASKING", 14 ) );
	/* 如果不是集群模式下，则写回复一个"RESTORE" */
	else
		serverAssertWithInfo( c, NULL, rioWriteBulkString( &cmd, "RESTORE", 7 ) );
	/* 检测键对象的编码 */
	serverAssertWithInfo( c, NULL, sdsEncodedObject( kv[j] ) );
	/* 写回复一个键 */
	serverAssertWithInfo( c, NULL, rioWriteBulkString( &cmd, kv[j]->ptr, sdslen( kv[j]->ptr ) ) );
	/* 写回复一个键的生存时间 */
	serverAssertWithInfo( c, NULL, rioWriteBulkLongLong( &cmd, ttl ) );

	/* 将值对象序列化 */
	createDumpPayload( &payload, ov[j] );
	/* 将序列化的值对象写到回复中 */
	serverAssertWithInfo( c, NULL,
			      rioWriteBulkString( &cmd, payload.io.buffer.ptr, sdslen( payload.io.buffer.ptr ) ) );
	sdsfree( payload.io.buffer.ptr );

	/* 如果指定了replace，还要写回复一个REPLACE选项 */
	if ( replace )
		serverAssertWithInfo( c, NULL, rioWriteBulkString( &cmd, "REPLACE", 7 ) );
}

errno = 0;
{
	sds	buf		= cmd.io.buffer.ptr;
	size_t	pos		= 0, towrite;
	int	nwritten	= 0;
	/* 将rio缓冲区的数据写到TCP套接字中，同步写，如果超过timeout时间，则返回错误 */
	while ( (towrite = sdslen( buf ) - pos) > 0 )
	{
		/* 一次写64k大小的数据 */
		towrite		= (towrite > (64 * 1024) ? (64 * 1024) : towrite);
		nwritten	= syncWrite( cs->fd, buf + pos, towrite, timeout );
		if ( nwritten != (signed) towrite )
		{
			write_error = 1;
			goto socket_err;
		}
		/* 记录已写的大小 */
		pos += nwritten;
	}
}
... ... ... ... ... ... ... ...
```
要进行迁移键，必须在源节点和目标节点之间建立`TCP`连接。为了避免频繁的创建释放连接，因此在服务器中的`server.migrate_cached_sockets`字典中缓存了**最近的十个连接**。该字典的键是`host:ip`，字典的值是一个指针，指向`migrateCachedSocket`结构。该结构定义如下：
```
/* 最大的缓存数 */
#define MIGRATE_SOCKET_CACHE_ITEMS 64   /* max num of items in the cache. */
/* 缓存连接的生存时间10s */
#define MIGRATE_SOCKET_CACHE_TTL 10     /* close cached sockets after 10 sec. */

typedef struct migrateCachedSocket {
	/* TCP套接字 */
	int fd;
	/* 上一次还原键的数据库ID */
	long last_dbid;
	/* 上一次使用的时间 */
	time_t last_use_time;
} migrateCachedSocket;
```
在调用一个`migrateGetSocket()`函数之前首先会在`migrate_cached_sockets`字典中寻找，如果没找到则新创建一个连接，并且加入到缓存字典中，返回一个迁移连接。

然后又初始化一个缓冲区对象`cmd`，用来做命令的缓存，首先得构建`SELECT`命令，以防迁移到错误的数据库。

接下来，就要遍历每一个要发送的键，对于每一个键都要做以下操作，并且都是以`Redis`通信协议的方式。

1.  先获取键的过期时间，然后计算出键的生存时间。
2.  将一个整数值写到缓冲区对象`cmd`中，该整数表示之后会解析多少项。如果指定了`replace`，那么整数值是`5`，否则是`4`。
3.  如果当前在集群模式下，那么会将`RESTORE-ASKING`命令写到缓冲区对象`cmd`中，如果在普通的节点之间迁移，则写`RESTORE`命令。这两个命令都是用来反序列化的。
4.  检测键名的对象编码类型是否是字符串类型的编码。
5.  将当前遍历的键，写到缓冲区对象`cmd`中。
6.  再将该键的生存时间，也写到缓冲区对象`cmd`中。
7.  调用`createDumpPayload()`函数将该键对应的值对象进行序列化，并且保存到另一个缓冲区对象`payload`中，然后将`payload`中的缓存写到缓冲区对象`cmd`中。  
    -   序列化格式如下：| 1 bytes type | obj | 2 bytes RDB version | 8 bytes CRC64 |
8.  最后，如果指定了`replace`，则还需要多写一个`REPLACE`。

对于每一个键，经过以上操作，都会构建一个`RESTORE`或`RESTORE-ASKING`命令，这两个命令都是用来进行反序列化序列的，这两个命令唯一不同就是后者会指定一个`CMD_ASKING`标识。在命令表中如下：
```
{ "restore", restoreCommand, -4, "wm", 0, NULL, 1, 1, 1, 0, 0 },
{ "restore-asking", restoreCommand, -4, "wmk", 0, NULL, 1, 1, 1, 0, 0 }, /* 多指定了一个k */
{ "asking", askingCommand, 1, "F", 0, NULL, 0, 0, 0, 0, 0 },
/* k：为该命令执行一个隐式的 ASKING 命令，所以在集群模式下，如果槽被标记为'importing'，那这个命令会被接收。 */
```
这两个命令都调用`restoreCommand`命令执行，因此参数上面的每一步操作都会对应这两个命令的每一个参数，如下：
```
RESTORE key ttl serialized-value [REPLACE]
```
当构建好迁移的数据后，就要发送给目标节点，调用`syncWrite()`函数同步将`cmd`的缓存写到连接的`fd`中，设置超时时间为`timeout`，每次写`64K`大小。如果发生写错误，会设置`write_error = 1`并且跳转到`socket_err`的错误处理代码。

-   **目标节点执行反序列化命令并回复**

当将构建好的反序列化命令发送给目标节点后，目标节点会执行后并回馈给源节点一些信息，源节点根据这些信息来信息判断目标节点是否执行成功。

首先会执行`SELECT`命令，进行切换数据库，以防发生错误。

然后目标节点接收到源节点发送过来的`RESTORE`或者`restore-asking`命令后，会调用`restoreCommand()`函数执行命令。该函数代码如下：
```
void restoreCommand( client *c )
{
	long long	ttl;
	rio		payload;
	int		j, type, replace = 0;
	robj		*obj;

	/* 解析REPLACE选项，如果指定了该选项，设置replace标识 */
	for ( j = 4; j < c->argc; j++ )
	{
		if ( !strcasecmp( c->argv[j]->ptr, "replace" ) )
		{
			replace = 1;
		} else {
			addReply( c, shared.syntaxerr );
			return;
		}
	}

	/* 如果没有指定替换标识，但是键存在，回复一个错误 */
	if ( !replace && lookupKeyWrite( c->db, c->argv[1] ) != NULL )
	{
		addReply( c, shared.busykeyerr );
		return;
	}

	/* 获取生存时间 */
	if ( getLongLongFromObjectOrReply( c, c->argv[2], &ttl, NULL ) != C_OK )
	{
		return;
	} else if ( ttl < 0 )
	{
		addReplyError( c, "Invalid TTL value, must be >= 0" );
		return;
	}

	/* 验证RDB版本和数据校验和 */
	if ( verifyDumpPayload( c->argv[3]->ptr, sdslen( c->argv[3]->ptr ) ) == C_ERR )
	{
		addReplyError( c, "DUMP payload version or checksum are wrong" );
		return;
	}
	/* 初始化缓冲区对象payload并设置缓冲区的地址，读出了序列化数据到缓冲区中 */
	rioInitWithBuffer( &payload, c->argv[3]->ptr );
	/* 类型错误 */
	if ( ( (type = rdbLoadObjectType( &payload ) ) == -1) ||
	     ( (obj = rdbLoadObject( type, &payload ) ) == NULL) )
	{
		addReplyError( c, "Bad data format" );
		return;
	}

	/* 如果指定了替代的标识，那么删除旧的键 */
	if ( replace )
		dbDelete( c->db, c->argv[1] );

	/* 添加键值对到数据库中 */
	dbAdd( c->db, c->argv[1], obj );
	/* 设置生存时间 */
	if ( ttl )
		setExpire( c->db, c->argv[1], mstime() + ttl );
	signalModifiedKey( c->db, c->argv[1] );
	addReply( c, shared.ok );
	server.dirty++;
}
```
该函数首先会解析是否指定了`REPLACE`选项，如果指定了，那么设置`replace = 1`，否则回复一个`-ERR`。

但是如果没有指定`REPLACE`选项，但是在数据库中却存在该键，那么回复`-BUSYKEY`。

从参数中获取生存时间`ttl`，如果生存时间小于`0`，则回复一个错误。

然后，调用`verifyDumpPayload()`函数从序列化的数据中验证`RDB`版本和校验和，如果出错则回复一个错误。

接下来将序列化数据保存到缓冲区对象`payload`中，然后根据序列化的格式，读出键的值对象的编码类型，然后根据编码类型在读出值对象。

如果指定了`replace`标识，那么会调用`dbDelete()`将该将从数据库中删除。

如果获取了生存时间`ttl`，调用`setExpire()`函数设置该键的生存时间。

最后执行成功，发送修改键的信号，更新脏键，并且回复一个`+OK`。

当命令执行完成后，目标节点将回复发送给源节点，源节点根据回复来判断是否执行成功。

-   **读取发送过去的命令回复**
```
/* 读取命令的回复 */
char	buf1[1024];     /* Select reply. */
char	buf2[1024];     /* Restore reply. */

/* 如果指定了select，读取该命令的回复 */
if ( select && syncReadLine( cs->fd, buf1, sizeof(buf1), timeout ) <= 0 )
	goto socket_err;

/* 读RESTORE的回复 */
int	error_from_target	= 0;
int	socket_error		= 0;
int	del_idx			= 1; /* Index of the key argument for the replicated DEL op. */
/* 没有指定copy选项，分配一个新的参数列表空间 */
if ( !copy )
	newargv = zmalloc( sizeof(robj*) * (num_keys + 1) );
/* 读取每一个键的回复 */
for ( j = 0; j < num_keys; j++ )
{
	/* 同步读取每一个键的回复，超时timeout */
	if ( syncReadLine( cs->fd, buf2, sizeof(buf2), timeout ) <= 0 )
	{
		socket_error = 1;
		break;
	}
	/* 如果指定了select，检查select的回复 */
	if ( (select && buf1[0] == '-') || buf2[0] == '-' )
	{
		/* 如果select回复错误，那么last_dbid就是无效的了 */
		if ( !error_from_target )
		{
			cs->last_dbid = -1;
			addReplyErrorFormat( c, "Target instance replied with error: %s",
					     (select && buf1[0] == '-') ? buf1 + 1 : buf2 + 1 );
			error_from_target = 1;
		}
	} else {
		/* 没有指定copy选项，要删除源节点的键 */
		if ( !copy )
		{
			/* 删除源节点的键 */
			dbDelete( c->db, kv[j] );
			/* 发送信号 */
			signalModifiedKey( c->db, kv[j] );
			/* 更新脏键个数 */
			server.dirty++;
			/* 设置删除键的列表 */
			newargv[del_idx++] = kv[j];
			incrRefCount( kv[j] );
		}
	}
}
... ... ... ... ... ... ... ...
```
先调用`syncReadLine()`读一行回复，也就是`SELECT`命令的回复，保存到`buf1`中。

然后循环读取每一个键执行的回复，保存在`buf2`中，如果`buf1`或者`buf2`的第一个字符是`'-'`，表示目标节点执行`RESTORE`命令发生了错误，那么需要重置`last_dbid`，因为缓存的已经失效。

如果回复的成功执行的信息。呢么根据是否指定了`copy`，如果没有指定，表示要删除源节点的键。那么调用`dbDelete()`函数将该键从源节点的数据库中删除，并且要将删除的键保存到`newargv`参数列表中。

-   **错误处理**

执行以上代码时，可能会发生错误，有些错误无法挽回，直接返回，有些错误则可以执行重试操作。代码如下：
```
/* 套接字错误，第一个键就错误，可以进行重试 */
if ( !error_from_target && socket_error && j == 0 && may_retry &&
     errno != ETIMEDOUT )
{
	goto socket_err; /* A retry is guaranteed because of tested conditions.*/
}

/* 套接字错误，关闭迁移连接 */
if ( socket_error )
	migrateCloseSocket( c->argv[1], c->argv[2] );
/* 没有指定copy选项 */
if ( !copy )
{
	/* 如果删除了键 */
	if ( del_idx > 1 )
	{
		/* 创建一个DEL命令，用来发送到AOF和从节点中 */
		newargv[0] = createStringObject( "DEL", 3 );
		/* 用指定的newargv参数列表替代client的参数列表 */
		replaceClientCommandVector( c, del_idx, newargv );
		argv_rewritten = 1;
	} else {
		zfree( newargv );
	}
	newargv = NULL; /* Make it safe to call zfree() on it in the future. */
}

/* 执行到这里，如果还没有跳到socket_err，那么关闭重试的标志，跳转到socket_err */
if ( !error_from_target && socket_error )
{
	may_retry = 0;
	goto socket_err;
}
/* 不是目标节点的回复错误 */
if ( !error_from_target )
{
	/* 更新最近一次使用的数据库ID */
	cs->last_dbid = dbid;
	addReply( c, shared.ok );
} else {
	/* On error we already sent it in the for loop above, and set
	 * the curretly selected socket to -1 to force SELECT the next time. */
}
/* 释放空间 */
sdsfree( cmd.io.buffer.ptr );
zfree( ov ); zfree( kv ); zfree( newargv );
return;

socket_err:
sdsfree( cmd.io.buffer.ptr );

/* 如果没有重写client参数列表，关闭连接，因为要保持一致性 */
if ( !argv_rewritten )
	migrateCloseSocket( c->argv[1], c->argv[2] );
zfree( newargv );
newargv = NULL;     /* This will get reallocated on retry. */

/* 如果可以重试，跳转到try_again */
if ( errno != ETIMEDOUT && may_retry )
{
	may_retry = 0;
	goto try_again;
}

zfree( ov ); zfree( kv );
addReplySds( c,
	     sdscatprintf( sdsempty(),
			   "-IOERR error or timeout %s to target instance\r\n",
			   write_error ? "writing" : "reading" ) );
return;
}
```
如果出现了套接字错误，第一个键就错误，可以进行重试，跳转到`socket_err`代码。

如果出现了套接字错误，关闭迁移连接。

如果没有指定`copy`选项，并且进行了删除键的操作，那么要调用`replaceClientCommandVector()`函数，将客户端的参数列表替换为`DEL`命令，因为执行了删除键的操作，要传播到从节点和`AOF`文件中。并且设置重写参数列表的标识`argv_rewritten = 1`

。如果以上条件都不满足，则会关闭重试执行的标识，跳转到`socket_err`代码。

如果不是目标节点的回复的错误，则可以更新缓存的上一次使用的数据库`id`。

在`socket_err`代码部分，如果没有重写客户端的参数列表，要关闭迁移连接，因为要保持一致性。如果可以重试，那么跳转到`try_again`发送迁移数据那一步，进行重新尝试执行`MIGRATE`命令。

如果都无法重试，最后就会回复一个`-IOERR`错误。

到此源节点执行`MIGRATE`命令，就执行完成。也就是说槽中的数据已经迁移完成，下一步执行`CLUSTER SETSLOT <slot> node <target_name>`命令将槽位在指派给目标节点，就大功告成。

#### 2.3.5 迁移槽位

执行玩`MIGRATE`命令将槽中的所有键迁移完成后，最后只要将槽位指派给目标节点就完成整个迁移操作。[Redis Cluster文件详细注释](https://github.com/menwengit/redis_source_annotation/blob/master/cluster.c)

在任意节点执行`CLUSTER SETSLOT <slot> NODE <target_name>`命令，最后都会将该信息通过消息发送给每一个集群节点，但是`redis-trib.rb`工具选择给每一个主节点发送该命令，这样可以阻止槽位和错误节点相关联，可以更少的重定向就能找到正确的节点。处理该命令对应的代码如下：
```
if ( !strcasecmp( c->argv[3]->ptr, "node" ) && c->argc == 5 )
{
	/* CLUSTER SETSLOT <SLOT> NODE <NODE ID> */
	/* 查找到目标节点 */
	clusterNode *n = clusterLookupNode( c->argv[4]->ptr );
	/* 目标节点不存在，回复错误信息 */
	if ( !n )
	{
		addReplyErrorFormat( c, "Unknown node %s", (char *) c->argv[4]->ptr );
		return;
	}
	/* 如果这个槽已经由myself节点负责，但是目标节点不是myself节点 */
	if ( server.cluster->slots[slot] == myself && n != myself )
	{
		/* 保证该槽中没有键，否则不能指定给其他节点 */
		if ( countKeysInSlot( slot ) != 0 )
		{
			addReplyErrorFormat( c,
					     "Can't assign hashslot %d to a different node "
					     "while I still hold keys for this hash slot.", slot );
			return;
		}
	}
	/* 该槽处于被迁移的状态但是该槽中没有键 */
	if ( countKeysInSlot( slot ) == 0 && server.cluster->migrating_slots_to[slot] )
		/* 取消迁移的状态 */
		server.cluster->migrating_slots_to[slot] = NULL;

	/* 如果该槽处于导入状态，且目标节点是myself节点 */
	if ( n == myself &&
	     server.cluster->importing_slots_from[slot] )
	{
		/*
		 * 手动迁移该槽，将该节点的配置纪元设置为一个新的纪元，以便集群可以传播新的版本。
		 * 注意，如果这导致与另一个获得相同配置纪元的节点冲突，例如因为取消槽的同时发生执行故障转移的操作，则配置纪元冲突的解决将修复它，指定不同节点有一个不同的纪元。
		 */
		if ( clusterBumpConfigEpochWithoutConsensus() == C_OK )
		{
			serverLog( LL_WARNING, "configEpoch updated after importing slot %d", slot );
		}
		/* 取消槽的导入状态 */
		server.cluster->importing_slots_from[slot] = NULL;
	}
	clusterDelSlot( slot );
	/* 将slot槽指定给n节点 */
	clusterAddSlot( n, slot );
} else {
	addReplyError( c, "Invalid CLUSTER SETSLOT action or number of arguments" );
	return;
}
/* 更新集群状态和保存配置 */
clusterDoBeforeSleep( CLUSTER_TODO_SAVE_CONFIG | CLUSTER_TODO_UPDATE_STATE );
addReply( c, shared.ok );
```
首先会根据`<target_name>`参数在集群中查找目标节点，如果目标节点不在集群中，那么回复错误信息，直接返回。

如果是在源节点上执行该命令，那么如果指定的`<slot>`是源节点负责，并且源节点不等于目标节点，那么需要判断槽位中是否还有键没有迁移，如果槽中还有键存在，则回复错误信息，直接返回。

无论在什么节点上执行该命令，如果判断到指定的`<slot>`已经空了，并且该槽处于导出状态，都要取消导出的状态。

如果是在目标节点上执行该命令，则且该槽处于导入状态，那么会调用`clusterBumpConfigEpochWithoutConsensus()`函数来设置目标节点的纪元来解决不同节点的配置纪元`configEpoch`可能发生冲突的情况。然后目标节点取消该槽位的导入状态。

> 关于纪元的讲解可以参考@gqtcgq的文章([http://blog.csdn.net/gqtcgq/article/details/51830428](http://blog.csdn.net/gqtcgq/article/details/51830428))

最后更新集群中的槽位状态，将指定的`<slot>`槽位分配给目标节点。然后回复客户端一个`OK`表示执行成功。

这样，整个集群扩容的过程就完成了。

## 3 集群收缩的原理

集群收缩的过程就是现将下线的节点中的所有槽和数据迁移到目标节点中，然后通过`CLUSTER FORGET <NODE ID>`命令来让集群中所有的节点都知道下线的节点，并且忘记他。但是建议使用`redis-trib.rb`工具的`del-node`来收缩集群，防止频繁执行`CLUSTER FORGET`命令。[Redis Cluster文件详细注释](https://github.com/menwengit/redis_source_annotation/blob/master/cluster.c)

`CLUSTER FORGET <NODE ID>`命令的原理就是让下线的节点在某段时间内取消与所有集群节点的交互行为。具体代码如下：
```
if ( !strcasecmp( c->argv[1]->ptr, "forget" ) && c->argc == 3 )
{
	/* 根据<NODE ID>查找节点ilil */
	clusterNode *n = clusterLookupNode( c->argv[2]->ptr );
	/* 没找到 */
	if ( !n )
	{
		addReplyErrorFormat( c, "Unknown node %s", (char *) c->argv[2]->ptr );
		return;
		/* 不能删除myself */
	} else if ( n == myself )
	{
		addReplyError( c, "I tried hard but I can't forget myself..." );
		return;
		/* 如果myself是从节点，且myself节点的主节点是被删除的目标键，回复错误信息 */
	} else if ( nodeIsSlave( myself ) && myself->slaveof == n )
	{
		addReplyError( c, "Can't forget my master!" );
		return;
	}
	/* 将n添加到黑名单中 */
	clusterBlacklistAddNode( n );
	/* 从集群中删除该节点 */
	clusterDelNode( n );
	/* 更新状态和保存配置 */
	clusterDoBeforeSleep( CLUSTER_TODO_UPDATE_STATE |
			      CLUSTER_TODO_SAVE_CONFIG );
	addReply( c, shared.ok );
}
```
该函数先根据指定的下线节点的`ID`在集群中查找该节点，如果不能找到则回复错误信息。

如果指点的节点是当前`myself`节点，回复错误信息，直接返回。

如果当前`myself`节点是从节点，但是要忘记的节点是`myself`节点的主节点，回复错误信息，返回。

调用`clusterBlacklistAddNode()`函数将要下线的节点加入黑名单中，这个黑名单是一个字典，保存要下线的节点名字。

然后将下线节点从集群中删除，并回复一个`ok`给客户端。

我们来关注一下下线节点黑名单。`clusterBlacklistAddNode()`函数代码如下：
```
void clusterBlacklistAddNode( clusterNode *node )
{
	dictEntry *de;
	/* 获取node的ID */
	sds id = sdsnewlen( node->name, CLUSTER_NAMELEN );
	/* 先清理黑名单中过期的节点 */
	clusterBlacklistCleanup();
	/* 然后将node添加到黑名单中 */
	if ( dictAdd( server.cluster->nodes_black_list, id, NULL ) == DICT_OK )
	{
		/* 如果添加成功，创建一个id的复制品，以便能够在最后free */
		id = sdsdup( id );
	}
	/* 找到指定id的节点 */
	de = dictFind( server.cluster->nodes_black_list, id );
	/* 为其设置过期时间 */
	dictSetUnsignedIntegerVal( de, time( NULL ) + CLUSTER_BLACKLIST_TTL );
	sdsfree( id );
}
```
黑名单中的节点生存时间只有`60s`，每次加入节点都会先清理过期的节点，然后加入新的节点并且设置过期时间。加入黑名单中节点不会与其他节点进行消息交互，如果超过`60s`，该节点就会从黑名单中清理，再次发送消息时，就会重新进行握手，最终重新上线。因此只有`60s`的时间让所有集群节点忘记下线节点。
