# Protobuf

protobuf（Protocol Buffers）是Google推出的一个结构化数据交换协议，用于传递自定义的消息格式，可用于同一台机器的进程间、不同设备进程间的数据传递。protobuf是一种语言无关、平台无关、高效、扩展性良好的语言，提供了一种将结构化数据进行序列化和反序列化的方法。

相对于XML，protobuf的体积更小、速度更快、使用更简单。我们仅需要定义一次数据结构，就可以很轻松地使用生成的代码读/写数据，而且这些数据结构是向后兼容的。

## 1 Protobuf优缺点

相对于XML来说，Protocol buffers在序列化结构化数据上，具有非常明显的优势：

更加简单
体积减小3~10倍
速度提高20~100倍
更清晰
生成的数据结构代码，更容易使用

相对于JSON来说，protobuf也有明显的优势：

更好的前后数据版本兼容性
提供了验证机制，更容易被扩展
不同语言间互操作性更好
protobuf也有一些缺点，并不是适合所有场景。

二进制编码和传输，可读性差
编码和解码依赖额外的库，不能在浏览器、JS中直接使用
缺乏自描述

## 2 如何使用protobuf

（1）定义.proto文件
（2）编译protocol buffer
（3）使用Java protocol buffer API 读写数据
