# LSM Tree


主要应用于nessDB、leveldb、hbase

核心思想的核心就是放弃部分读能力，换取写入的最大化能力。它假设假定内存足够大，因此不需要每次有数据更新就必须将数据写入到磁盘中，而可以先将最新的数据驻留在内存中，等到积累到最后多之后，再使用**归并排序**的方式将内存内的数据合并追加到磁盘队尾。（使用归并排序是要因为带排序树都是有序树）

LSM具有批量特性，存储延迟。B树在insert的时候可能会造成分裂，可能会造成随机读写。而LSM将多次单页随机写，变成一次多页随机写,复用了磁盘寻道时间，极大提升效率。

LSM Tree放弃磁盘读性能来换取写的顺序性。

一般会使用[Bloom Filter](https://blog.csdn.net/zdxiq000/article/details/57626464)来优化LSM。当将内存中的数据与磁盘数据合并的时候，先要判断数据是否有重复，如果不用Bloom Filter就需要在磁盘上一层层地找，而使用了之后就会降低搜索代价。
