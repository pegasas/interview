# 常见索引种类

主键索引：主键索引，简称主键，原文是PRIMARY KEY，由一个或多个列组成，用于唯一性标识数据表中的某一条记录。一个表可以没有主键，但最多只能有一个主键，并且主键值不能包含NULL。

辅助索引（非主键索引）：辅助索引，不和主键相关的索引。区分唯一索引和非唯一索引。

唯一索引：被索引的字段组合，其数据在全表中唯一。

非唯一索引：被索引的字段组合，其数据在全表中有多个。

聚集索引：表中记录的物理顺序与键值的索引顺序相同。一个表只能有一个聚集索引。

非聚集索引：表中记录的物理顺序与键值的索引顺序不同。

聚簇（clustered）索引：索引文件和数据文件为同一份文件

非聚集（unclustered）索引：索引文件和数据文件为同一份文件，索引文件存放数据文件的地址

稠密索引:稠密索引文件中的索引块保持键的顺序与文件中的排序顺序一致。

稀疏索引:稀疏索引没有为每个数据都创建一个索引,它比稠密索引节省了更多的存储空间，但查找给定值的记录需更多的时间。只有当数据文件是按照某个查找键排序时，在该查找键上建立的稀疏索引才能被使用，而稠密索引则可以应用在任何的查找键。

联合索引:将一张表中多个列组成联合索引(col1,col2,col3)，其生效方式满足最左前缀原则。

最左前缀:假如我们创建了联合索引(col1,col2,col3)，那么相当于创建了(col1),(col1,col2),(col1,col2,col3)这3个索引，然后where条件会根据出现的列名挑选最严格的索引。例如where col1=? and col2=? and col3=?，那么就会使用(col1,col2,col3)；如果where col1=? and col3 =?，那么就会使用(col1)；如果where col2=? and col3=?，那么一个都不会使用。因此在创建多列索引时，要根据业务需求，where子句中使用最频繁的一列放在最左边。

选择性索引:不重复数占所有记录的比例，假如有10w条记录，unique之后有9w条，那么选择性位90%。主要有两个作用：1. 查看某一列是否有必要建立索引；2. 对于String、hash值、日期等字段，应该取多少位来建立索引(即使用前缀索引)，因为主键越短，整个索引表越小。

覆盖索引:对于二级索引而言，在innodb中一般是需要先根据二级索引查询到主键，然后在根据一级索引查询到数据。但是如果select的列都在索引中，就避免进行一级查询。
